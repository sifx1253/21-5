<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fra skrot til slot</title>
    <link rel="stylesheet" href="css/index.css">
    <link href="https://fonts.googleapis.com/css2?family=Raleway&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


    <style>
        article {
            width: 90%;
            margin: 2vw;
            position: relative;
            flex-basis: 400px;
        }

        .billede {
            cursor: pointer;
            width: 100%;
        }
/*
        .overskrift {
            color: white;
            font-weight: 900;
            position: absolute;
            left: 15px;
            font-size: 2.2rem;
            bottom: 5px;
            text-shadow: 3px 2px 0px rgba(0, 0, 0, 0.2);
        }*/

        #liste {
            display: flex;
            flex-direction: row;
            width: 80vw;
            flex-wrap: wrap;
            height: auto;
            margin: auto;
        }
    </style>

</head>


<body>

    <!-- NAV med udgangspunkt i denne fremgangsmåde: https://www.w3schools.com/howto/howto_css_dropdown.asp
 Her er to navbars, som deler NAV'en op i to.-->
    <nav>
        <a class="forside-link" href="index.html">
            <img id="logo">
        </a>

        <div class="top_navbar">

            <a href="index.html">
                <img id="language">
            </a>


            <a href="index.html">
                <img id="user-login">
            </a>

        </div>

        <div class="btm_navbar">




            <div id="menuknap">☰</div>
            <div id="menu" class="hidden">

                <div class="dropdown">
                    <button class="dropbtn">
                        <a href="kontakt.html">Kontakt</a>
                        <i class="fa fa-caret-down"></i>
                    </button>
                    <div class="dropdown-content">
                        <a href="job-i-21-5.html">Job i 21-5</a>
                        <a href="kaffemode.html">Kaffemøde</a>
                        <a href="ofte-stillede-sporgsmal.html">Ofte stillede spørgsmål</a>
                        <a href="orienteringsmoder-2.html">Orienteringsmøde</a>
                        <a href="abningstider.html">Åbningstider</a>
                    </div>
                </div>


                <div class="dropdown">
                    <button class="dropbtn">
                        <a href="om.html">Om Os</a>
                        <i class="fa fa-caret-down"></i>
                    </button>
                    <div class="dropdown-content">
                        <a href="om-os.html">Om Os</a>
                        <a href="21-5teamet.html">21-5 Teamet</a>
                        <a href="mangler.html">Hvem er 21-5 for?</a>
                        <a href="det_siger.html">Det siger vores 21-5 familier</a>
                        <a href="sadan-benytter-vi-vores-21-5-boliger.html">Sådan benytter vi vores 21-5 boliger</a>
                        <a href="lidt-om-21-5-historien.html">Lidt om 21-5 historien</a>
                        <a href="10-ars-fodselsdag.html">10 års fødselsdag</a>
                    </div>
                </div>



                <div class="dropdown">
                    <button class="dropbtn">
                        <a href="okonomi.html">Økonomi</a>
                        <i class="fa fa-caret-down"></i>
                    </button>
                    <div class="dropdown-content">
                        <a href="skat.html">Skat</a>
                        <a href="finansiering.html">Finansiering</a>
                        <a href="investering.html">Investering</a>
                        <a href="okonomi-jura-og-skat.html">Økonomi og jura</a>
                    </div>
                </div>



                <div class="dropdown">
                    <button class="dropbtn">
                        <a href="start_foreninger.html">Foreninger</a>
                        <i class="fa fa-caret-down"></i>
                    </button>
                    <div class="dropdown-content">
                        <a href="se-alle-stiftede-21-5-foreninger.html">Se alle 21-5 stiftede foreninger</a>
                        <a href="ejerforeninger.html">Ejerforeninger</a>
                        <a href="gensalg.html">Gensalg</a>
                        <a href="oplosning-af-en-forening.html">Opløsning af forening</a>
                        <a href="byt.html">Byt</a>
                    </div>
                </div>

                <div class="dropdown">
                    <button class="dropbtn">
                        <a href="hvorfor.html">Hvorfor 21-5?</a>
                        <i class="fa fa-caret-down"></i>
                    </button>
                    <div class="dropdown-content">
                        <a href="hvorfor_detalje.html">Hvordan sælger vi vores andel igen?</a>
                        <a href="hvorfor_detalje.html?id=384">Derfor købe en andel?</a>
                        <a href="hvorfor_detalje.html?id=387">Hvordan kommer vi med?</a>
                        <!--
           MANGLER
          <a href="04.04.00.html">I binder jer først endeligt når i har mødt de andre familier</a>
-->
                        <a href="hvorfor_detalje.html?id=385">Fordi det giver mening</a>
                        <a href="hvorfor_detalje.html?id=388">Bookingsystemet fordeling af ugerne (fed knap)</a>
                        <a href="hvorfor_detalje.html?id=382">21-5 konceptet</a>
                        <!--
           MANGLER
          <a href="04.08.00.html">Fællesskab i foreningerne</a>
-->
                    </div>
                </div>


                <div class="dropdown">
                    <button class="dropbtn">
                        <a href="fraskrottilslot-oversigt.html">Fra Skrot til Slot</a>
                        <i class="fa fa-caret-down"></i>
                    </button>
                    <div class="dropdown-content">
                        <a href="skrot-til-slot-i-hele-verden.html">Fra skrot til slot i hele verden</a>
                        <a href="udvaelgelse.html">Udvælgelse</a>
                        <a href="istandsaettelse.html">Istandsættelse</a>
                        <a href="indretning.html">Indretning</a>
                        <a href="klargoring.html">Klargøring</a>
                        <a href="vi-skaber-hjem.html">Vi skaber hjem</a>
                    </div>
                </div>


                <div class="dropdown">
                    <button class="dropbtn">
                        <a href="destinationer.html">Destinationer</a>
                        <i class="fa fa-caret-down"></i>
                    </button>
                    <div class="dropdown-content">
                        <a href="mallorca.html">Mallorca</a>
                        <a href="sydspanien.html">Sydspanien</a>
                        <a href="toscana.html">Toscana</a>
                        <a href="sydfrankrig.html">Sydfrankrig</a>
                        <a href="chamonix.html">Chamonix</a>
                        <a href="new-york.html">New York</a>
                        <a href="barcelona.html">Barcelona</a>
                        <a href="paris.html">Paris</a>
                        <a href="rom.html">Rom</a>
                    </div>
                </div>

            </div>
        </div>
    </nav>


    <!-- CONTENT -->
    <div class="splash_container">

        <img id="splash" src="" alt="">

    </div>

    <main id="liste"></main>

    <template>
        <article>
            <h1 class="overskrift"></h1>
            <p class="beskrivelse"></p>
            <img class="billede">
        </article>
    </template>


    <!-- CONTENT -->
    <div class="splash_container">

        <img id="splash" src="" alt="">

    </div>

    <main id="tekst_container">
        <h1 id="overskrift"></h1>
        <p id="brødtekst"></p>
    </main>

    <!-- Footer CONTENT -->
    <div class="breaker2">

    </div>
    <footer>

        <div class="topFooter">

            <div class="rowWrapper">
                <div class="links">

                    <a href="#">Nyheder</a>
                    <a href="#">Presse</a>
                    <a href="#">Cookie- og privatpolitik</a>
                    <a href="#">Job</a>
                    <a href="#">Om os</a>
                    <a href="#">Ofte stillede spørgsmål</a>
                </div>
                <div class="Kontakt">
                    <p class="lilleOverskrift"></p>
                    <p class="email"></p>
                    <p class="tlf"></p>
                </div>
            </div>
        </div>

        <div class="btmFooter">
            <h3>Følg os på instagram</h3>
            <div class="center">

                <div class="rowWrapper">
                    <img id="instaBilleder" class="instaBillede1">
                    <img id="instaBilleder" class="instaBillede2">
                    <img id="instaBilleder" class="instaBillede3">
                    <img id="instaBilleder" class="instaBillede4">
                    <img id="instaBilleder" class="instaBillede5">
                </div>
            </div>
        </div>

        <div class="someFooter">
            <div class="center">
                <img id="facebook">
                <img id="insta">
            </div>
        </div>


    </footer>


    <!-- JAVA -->

    <script>
        document.addEventListener("DOMContentLoaded", start)

        // Samme som før
        let pages
        let permanentIndhold
        let splash




        let url1 = "http://slodberg.dk/kea/2sm/09-tema/21-5-kode/wordpress/wp-json/wp/v2/skrot-lande";
        let url2 = "http://slodberg.dk/kea/2sm/09-tema/21-5-kode/wordpress/wp-json/wp/v2/karrusel/781";
        let url3 = "http://slodberg.dk/kea/2sm/09-tema/21-5-kode/wordpress/wp-json/wp/v2/media/1620";


        // Samme som før
        async function start() {
            let response1 = await fetch(url1);
            let response2 = await fetch(url2);
            let response3 = await fetch(url3);
            pages = await response1.json();
            permanentIndhold = await response2.json();
            splash = await response3.json();
            visPages();
            visPermanentIndhold();
            toggleMenu();
            visSplash();
        }


        // Samme som før
        function visPages() {
            console.log("JSON forberedes")

            let liste = document.querySelector("#liste");
            let template = document.querySelector("template");

            pages.forEach(page => {
                let clone = template.cloneNode(true).content;

                // Samme som før - Henvis til de elementer som skal hentes.
                clone.querySelector(".overskrift").textContent = page.overskrift;
                clone.querySelector(".billede").src = page.splash.guid;

                console.log("Kategori og slug hentes ned")
                console.log(page, page.slug)

                clone.querySelector("article").addEventListener("click", () => {

                    location.href = `${page.slug}.html`;

                })

                liste.appendChild(clone);
            });
            console.log("Husk nu at rette HTMLen!")
        }

                function visSplash() {
                    console.log("splash loades")
                    document.querySelector("#splash").src = splash.guid.rendered;

                }


        // Permanent indhold hentes i Footer funktionenen

        function visPermanentIndhold() {
            console.log("Permanent indhold hentes")
            document.querySelector("#logo").src = permanentIndhold.billede1.guid;
            document.querySelector("#language").src = permanentIndhold.billede4.guid;
            document.querySelector("#user-login").src = permanentIndhold.billede3.guid;
            document.querySelector("#facebook").src = permanentIndhold.billede5.guid;
            document.querySelector("#insta").src = permanentIndhold.billede6.guid;
            console.log("Instragram feed hentes")
            document.querySelector(".instaBillede1").src = permanentIndhold.billede7.guid;
            document.querySelector(".instaBillede2").src = permanentIndhold.billede8.guid;
            document.querySelector(".instaBillede3").src = permanentIndhold.billede9.guid;
            document.querySelector(".instaBillede4").src = permanentIndhold.billede10.guid;
            document.querySelector(".instaBillede5").src = permanentIndhold.billede11.guid;
        }


        function toggleMenu() {
            console.log("toggleMenu");
            document.querySelector("#menu").classList.toggle("hidden");

            let erSkjult = document.querySelector("#menu").classList.contains("hidden");

            if (erSkjult == true) {
                document.querySelector("#menuknap").textContent = "X";
            } else {
                document.querySelector("#menuknap").textContent = "☰";
            }
        }
    </script>


    <!-- HTML SLUT -->

</body></html>
